<!DOCTYPE html>
<html>
    
<head>

    <title>Consentless</title>

    <link rel="stylesheet" type="text/css" href="neat.css">
    <link rel="stylesheet" type="text/css" href="custom.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">

</head>

<body>

    <h1>Consentless</h1>

    <p>An open source, minimalist, and privacy-preserving traffic counter. No cookie banners or consent required.</p>

    <ol>
        <li><a href="#about">About</a></li>
        <li><a href="#gettingStarted">Getting Started</a></li>
        <li><a href="#stats">Reading Stats</a></li>
        <li><a href="#rationale">Rationale</a></li>
        <li><a href="#license">License</a></li>
    </ol>

    <h2 id="about">About</h2>

    <p>Consentless is an open source, minimalist, and privacy-preserving traffic counter. It's designed to help with compliance with modern privacy laws including CCPA/CPRA (California), UCPA (Utah), GDPR (EU), and similar without requiring consent.</p>
    
    <p>It does so by tracking only impressions on URLs and not IP addresses or other personally identifiable information (PII). Time is tracked only to minute precision to further reduce the ability to pinpoint users with supplemental data.</p>

    <p>It's designed to track impressions instead of users.</p>

    <p>It can be installed on any VPS or hosted service.</p>

    <p>It can be used as your sole tracking mechanism or it can be used as supplemental tracking for visitors that did not consent to your other tracking methods.</p>

    <p>It's minimal and lightning fast. The client is four lines of JS while the server is under 100 lines of code, making it easy to examine.</p>

    <p>Consentless is written by <a href="https://joeldare.com">Joel Dare</a> and is currently beta software.</p>


    <h2 id="gettingStarted">Getting Started</h2>

    <p>To install Consentless do the following:</p>

    <ol>
        <li>Host Consentless on a VPS or Cloud Provider</li>
        <li>Add the script tag to each website you want to track</li>
    </ol>

    <p>There are two parts to Consentless: the client JavaScript and the server counter.</p>

    <h3 id="client">Client</h3>

    <p>Once you have the server configured you add the following script to the bottom of any web page to start tracking stats. This script goes just above the closing body tag.</p>

    <code>
        <pre>&lt;script src="https://consentless.example.com/consentless.js" async&gt;&lt;/script&gt;</pre>
    </code>


    <h3 id="server">Server</h3>

    <p>Install the binary on a server, execute it, and redirect output somewhere useful (like a file).</p>

    <ul>
        <li>Clone the repo (<code>git clone https://github.com/codazoda/consentless</code>)</li>
        <li>Build the binary (<code>go build -o consentless</code>)</li>
        <li>Run (<code>./consentless</code>)</li>
    </ul>

    <p>You can run Consentless in a VPS or a Docker container or the cloud.</p>


    <h4>Docker</h4>

    <p>You can run the server under Docker.</p>

    <ul>
        <li>Build a container image (<code>docker build --tag consentless .</code>)</li>
        <li>Run the container ( <code>docker run -p 8080:8080 -it --rm consentless</code>)</li>
        <li>Test a request (<code>curl -v "http://localhost:8080/?u=https://example.com"</code>)</li>
    </ul>

    <h2 id="rationale">Rationale</h2>

    <p><strong>Standard Output</strong></p>

    <p>All CSV data, from impressions, goes to stdout. This allows you to redirect output to a file or attach stdout to a service like pub/sub.</p>

    <p><strong>Why an image (vs Beacon or headers)?</strong></p>

    <p>The client sends a simple image request that includes the page URL as a query parameter. This avoids custom headers and CORS preflight, works with most Content Security Policies via <em>img-src</em>, and keeps the snippet tiny. While <em>sendBeacon</em> is great for unload reliability, it requires allowing the collection origin in your CSP <em>connect-src</em> and adds more code. Custom headers (like X-Referrer) on cross-origin requests are frequently stripped or trigger preflight, so we avoid them.</p>


    <h2 id="stats">Reading Stats</h2>

    <p>Consentless outputs it's stats as CSV data. You can process that data a number of ways. One way is to write it to a file.</p>


    <h3>Downloading</h3>

    <p>If you redirect standard output to a file it will produce a CSV and you can use SCP to grab it from the server.</p>

    <code>
        scp root@143.110.236.139:/some/path/consentless.log ~/consentless.log
    </code>


    <h3>Query with SQLite</h3>

    <p>I use SQLite to query the file directly.</p>

    <code>
        sqlite ':memory:' -cmd ".mode csv" -cmd ".import consentless.log c"
    </code>

    <p>Then run a query like.</p>

    <code>
        select count(*) from c;
    </code>


    <h3 id="github">GitHub</h3>

    <p>You'll find <a href="https://github.com/codazoda/consentless">Consentless on GitHub</a>.</p>


    <h3 id="license">License</h3>

    <p>MIT License. See LICENSE.txt.</p>


    <h3 id="privacyWarning">Privacy Warning</h3>

    <p>If you pass PII in the query string parameter, or as any other part of a URL, then it will be logged. If someone else passes PII in a link to one of your URLs then you might log that.</p>

    
    <script src="https://counter.joeldare.com/counter.js" async=""></script>
    
</body>

</html>
